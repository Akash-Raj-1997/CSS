(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{"18Q+":function(module,e,t){"use strict";var n=t("VbXa"),r=t.n(n),a,o=function(e){function NotificationPreferences(){return e.apply(this,arguments)||this}return r()(NotificationPreferences,e),NotificationPreferences}(t("HlCP").a);o.RESOURCE_NAME="notificationPreferences.v2",e.a=o},"7iRV":function(module,e,t){"use strict";t.r(e),t.d(e,"BaseComponent",function(){return V});var n=t("lSNA"),r=t.n(n),a=t("VkAN"),o=t.n(a),i=t("pVnL"),s=t.n(i),c=t("VbXa"),l=t.n(c),d=t("q1tI"),u=t.n(d),p=t("17x9"),m=t.n(p),f=t("W++m"),g=t.n(f),h=t("eJRr"),v=t.n(h),b=t("CsdX"),y=t("MnCE"),E=t("sQ/U"),O=t("Wjkg"),w=t("kvW3"),k=t("HOoY"),P=t("KMW/"),R=t("l1ss"),S=t("vd8P"),D=t("PStO"),C=t("lTCR"),B=t.n(C),j=t("xJyF"),x=t("18Q+"),G=t("12P2"),A=t("sOkY"),N=t("OOKc"),I=t("mAIf");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _templateObject(){var e=o()(["\n  query GdprMembershipQuery($userId: String!) {\n    EnterpriseAdminRolesV1Resource {\n      byUser(userId: $userId) {\n        elements {\n          id\n          managedLevelScope\n          role\n          thirdPartyOrganizationId\n          programId\n        }\n      }\n    }\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var M=h.StyleSheet.create({GDPRBanner:{padding:b.k.sm,textAlign:"center",backgroundImage:"linear-gradient(90deg, ".concat(b.h.sea.start,", ").concat(b.h.sea.end,")"),position:"relative"},textWrapper:{display:"inline-block",verticalAlign:"middle",fontWeight:600,margin:0},selectWrapper:{width:100,display:"inline-block",verticalAlign:"middle",margin:"".concat(b.k.xs," ").concat(b.k.md)},selectComponent:{backgroundColor:"#fff",border:"1px solid #ccc",color:"#666",cursor:"default",borderRadius:0,borderSpacing:0,borderCollapse:"separate",height:"36px",lineHeight:"36px",outline:"none",position:"relative",padding:"0 7px"},disabledOption:{display:"none"}}),T=function generateBannerText(e){var t=[g()("Please stay with us! Opt-in to let us know you’d like to keep receiving course recommendations via email from Coursera."),g()("Don’t lose touch! Opt-in today to continue receiving emails with course recommendations and news from Coursera."),g()("Stay on track — the deadline is coming soon! Opt-in to continue receiving updates from Coursera."),g()("Don’t miss out. You must opt-in to continue receiving updates from Coursera.")],n=["Please stay with us! Opt-in to let us know you’d like to keep receiving course recommendations via email from Coursera.","Don’t lose touch! Opt-in today to continue receiving emails with course recommendations and news from Coursera.","Stay on track — the deadline is coming soon! Opt-in to continue receiving updates from Coursera.","Don’t miss out. You must opt-in to continue receiving updates from Coursera."],r=[g()("Don’t lose touch! Opt-in for updates on how Coursera for Business can help you transform your workforce.")],a,o=e?r:t,i=e?["Don’t lose touch! Opt-in for updates on how Coursera for Business can help you transform your workforce."]:n,s=Math.floor(Math.random()*o.length);return{translated:o[s],untranslated:i[s]}},V=function(e){function GDPRBanner(t){var n;(n=e.call(this,t)||this).updateParentClass=function(){var e=n.props,t=e.addParentHeightClass,r=e.shouldRender,a=n.state.selectedValue;r&&"no"!==a&&(null==t||t("with-gdpr-banner"))},n.hideBanner=function(){var e=n.props.removeParentHeightClass;n.setState(function(){return{isDismissed:!0}}),null==e||e("with-gdpr-banner")},n.selectOnChange=function(e){var t,r=n.state,a=r.untranslatedBannerText,o=r.color,i=n.context._eventData,s=null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value;n.setState(function(){return{selectedValue:s}}),k.a.trackComponent(i,{selectedValue:s,color:o,bannerText:a},"gdpr_marketing_dropdown","select"),"no"===s?(n.hideBanner(),O.a.set(I.c,!0)):(setTimeout(n.hideBanner,8e3),n.updateNotifications())},n.updateNotifications=function(){var e=n.props,t=e.naptime,r=e.notificationPreferences,a=e.isEnterprise,o=e.isAdmin;if(!r)return null;var i=JSON.parse(JSON.stringify(r));!r||a||o?r&&a&&o&&(i.global="ENABLED",i.enterpriseMarketing.email="SUBSCRIBED"):(i.global="ENABLED",i.volunteer.email="SUBSCRIBED",i.promotions.email="SUBSCRIBED",i.recommendations.email="SUBSCRIBED"),t.executeMutation(x.a.update(E.a.get().id,i))};var r=t.isAdmin,a=t.isEnterprise,o=T(a),i=o.translated,s=o.untranslated,c=Object(S.a)(a&&r);return n.state={isDismissed:!1,selectedValue:void 0,color:c,bannerText:i,untranslatedBannerText:s},n}l()(GDPRBanner,e);var t=GDPRBanner.prototype;return t.componentDidMount=function componentDidMount(){this.updateParentClass()},t.render=function render(){var e=this.props.shouldRender,t=this.state,n=t.isDismissed,r=t.selectedValue,a=t.bannerText,o=t.untranslatedBannerText,i=t.color;if(!e||n)return u.a.createElement("span",null);return u.a.createElement(A.a,s()({},Object(b.d)("rc-GDPRBanner",M.GDPRBanner),{trackingName:"gdpr_marketing_banner",withVisibilityTracking:!0,data:{bannerText:o,color:i},style:{backgroundImage:"linear-gradient(90deg, ".concat(b.h[i].start,", ").concat(b.h[i].end,")")}}),u.a.createElement(N.a,{className:"GDPRShapesSVG",style:{maxWidth:300,maxHeight:"100%",position:"absolute",left:0,top:0}}),u.a.createElement("label",s()({htmlFor:"GDPRDropdown"},Object(b.d)(M.textWrapper)),"yes"===r?u.a.createElement(w.c,{message:g()("Great! You’re signed up. You can manage your communication preferences in your {link}. Thanks for your interest in Coursera, and good luck with your courses."),link:u.a.createElement("a",{href:"/account-settings"},g()("Account Settings"))}):a),"yes"!==r&&u.a.createElement("div",Object(b.d)(M.selectWrapper),u.a.createElement("select",s()({},Object(b.d)("rc-GDPRDropdown",M.selectComponent),{id:"GDPRdropdown",onChange:this.selectOnChange,required:!0}),u.a.createElement("option",s()({},Object(b.d)(M.disabledOption),{key:"GDPRdropdown~placeholder",value:"",disabled:!0,hidden:!0,selected:!0}),g()("Select...")),u.a.createElement("option",{key:"GDPRdropdown~yes",value:"yes"},g()("Yes")),u.a.createElement("option",{key:"GDPRdropdown~no",value:"no"},g()("Not now")))))},GDPRBanner}(u.a.Component);V.contextTypes={_eventData:m.a.object};var U=B()(_templateObject()),W=function gdprCheck(){return Boolean(P.a.get("Growth","enableGDPR")&&E.a.isAuthenticatedUser()&&!O.a.get(I.c))};e.default=Object(y.compose)(R.a,Object(j.a)(U,{skip:function skip(){return!W()},options:function options(){return{variables:{userId:E.a.get().id.toString()}}},props:function props(e){var t,n,r,a=e.data,o,i;return{enterpriseAdminRoles:(null!==(t=null==a?void 0:null===(n=a.EnterpriseAdminRolesV1Resource)||void 0===n?void 0:null===(r=n.byUser)||void 0===r?void 0:r.elements)&&void 0!==t?t:[]).filter(Boolean).map(function(e){return new G.a(e)})}}}),D.a.createContainer(function(){var e;return{notificationPreferences:W()?x.a.get(E.a.get().id,{}):void 0}}),Object(y.withProps)(function(e){var t=e.notificationPreferences,n=e.enterpriseAdminRoles,r=e.programs,a=!!(n||[]).length,o=a||!!(r||[]).length,i=Object(S.b)(t,o,a);return _objectSpread(_objectSpread({},e),{},{isEnterprise:o,isAdmin:a,shouldRender:i})}))(V)},OOKc:function(module,e,t){"use strict";var n=t("pVnL"),r=t.n(n),a=t("q1tI"),o=t.n(a),i=t("MnCE"),s=function GDPRArchSVG(e){return o.a.createElement("svg",r()({viewBox:"0 0 167 66",style:{width:"100%"},xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("title",null,"Shapes"),o.a.createElement("defs",null),o.a.createElement("g",{id:"Artboard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-35.000000, -33.000000)",opacity:"0.1"},o.a.createElement("g",{id:"Banner",transform:"translate(35.000000, 33.000000)",stroke:"#000000",strokeWidth:"6"},o.a.createElement("g",{id:"sessionnotificationbg"},o.a.createElement("g",{id:"shapes"},o.a.createElement("g",{transform:"translate(-29.000000, -21.000000)"},o.a.createElement("g",{id:"Clock",transform:"translate(155.049449, 36.684704)"},o.a.createElement("path",{d:"M37.9396098,17.4698049 C37.9396098,28.774791 28.7750662,37.9396098 17.4698049,37.9396098 C6.16454361,37.9396098 -3,28.774791 -3,17.4698049 C-3,6.16481885 6.16454361,-3 17.4698049,-3 C28.7750662,-3 37.9396098,6.16481885 37.9396098,17.4698049 Z",id:"Stroke-1"}),o.a.createElement("polyline",{id:"Stroke-3",points:"18.1685971 4.19275318 18.1685971 17.4698049 9.08429855 17.4698049"})),o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(31.500000, 30.204937) rotate(201.000000) translate(-31.500000, -30.204937) ",x:"7",y:"8",width:"49",height:"44.4098749"}),o.a.createElement("rect",{id:"Rectangle-path",transform:"translate(82.000000, 79.000000) rotate(157.000000) translate(-82.000000, -79.000000) ",x:"71",y:"68",width:"22",height:"22"}),o.a.createElement("circle",{id:"Oval",cx:"103.5",cy:"28.5",r:"7.5"}),o.a.createElement("path",{d:"M118.5,59.5 L129.5,44.5",id:"Line",strokeLinecap:"square"})))))))},c=Object(i.pure)(s);c.displayName="GDPRArchSVG",e.a=c},TP7S:function(module,exports){function isUndefined(e){return void 0===e}module.exports=isUndefined},mAIf:function(module,e,t){"use strict";t.d(e,"d",function(){return n}),t.d(e,"c",function(){return r}),t.d(e,"a",function(){return a}),t.d(e,"b",function(){return o});var n="UNSUBSCRIBED",r="dismissedGDPRBanner",a=["coursera","strawberry","peach","kiwi","sea","blueberry","grape"],o=["grape"],i,s={UNSUBSCRIBED_PREFERENCE:n,STORAGE_KEY:r,CONSUMER_GRADIENTS:a,ENTERPRISE_GRADIENTS:o}},vd8P:function(module,e,t){"use strict";t.d(e,"b",function(){return o}),t.d(e,"a",function(){return i});var n=t("TP7S"),r=t.n(n),a=t("mAIf"),o=function showBanner(e){var t,n,o,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=!!e&&(null===(t=e.volunteer)||void 0===t?void 0:t.email)===a.d&&(null===(n=e.promotions)||void 0===n?void 0:n.email)===a.d&&(null===(o=e.recommendations)||void 0===o?void 0:o.email)===a.d,l=!!e&&r()(e.enterpriseMarketing)||!!e&&!!e.enterpriseMarketing&&e.enterpriseMarketing.email===a.d;if(s&&i)return l;if(!s&&!i)return c;return!1},i=function getGradient(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&t?a.b:a.a;return n[Math.floor(Math.random()*n.length)]}}}]);
//# sourceMappingURL=54.1a297557ff883d0cf5f7.js.map